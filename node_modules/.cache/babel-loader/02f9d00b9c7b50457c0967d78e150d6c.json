{"ast":null,"code":"var _jsxFileName = \"/Users/kate/Documents/Comp4050-S2-20221/skel2/swapstreet/src/user/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Layout from '../components/Layout'; //import {Link} from 'react-router-dom'\n\nimport { register } from '../auth/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [values, setValues] = useState({\n    name: 'User',\n    email: 'user@email.com',\n    address: '14 Sample Street, Suburb NSW',\n    about: '',\n    password: '123456',\n    error: '',\n    success: false\n  });\n  const {\n    name,\n    email,\n    address,\n    about,\n    password,\n    success,\n    error\n  } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values,\n      error: false,\n      [name]: event.target.value\n    });\n  };\n\n  const clickSubmit = event => {\n    // prevent browser from reloading\n    event.preventDefault();\n    setValues({ ...values,\n      error: false\n    });\n    register({\n      name,\n      email,\n      address,\n      about,\n      password\n    }).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error,\n          success: false\n        });\n      } else {\n        setValues({ ...values,\n          name: '',\n          email: '',\n          address: '',\n          about: '',\n          password: '',\n          error: '',\n          success: true\n        });\n      }\n    });\n  };\n\n  const registerForm = () => /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-muted\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange('name'),\n        type: \"text\",\n        className: \"form-control\",\n        value: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-muted\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange('email'),\n        type: \"email\",\n        className: \"form-control\",\n        value: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-muted\",\n        children: \"Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange('address'),\n        type: \"text\",\n        className: \"form-control\",\n        value: address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-muted\",\n        children: \"About yourself (Optional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange('about'),\n        type: \"text\",\n        className: \"form-control\",\n        value: about\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-muted\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange('password'),\n        type: \"password\",\n        className: \"form-control\",\n        value: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clickSubmit,\n      className: \"btn btn-primary\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n\n  const showError = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-danger\",\n    style: {\n      display: error ? '' : 'none'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n\n  const showSuccess = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-info\",\n    style: {\n      display: success ? '' : 'none'\n    },\n    children: [\"New account is created. Please \", /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/login\",\n      children: \"log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 44\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"Register \",\n    description: \"Register for a new account\",\n    className: \"container col-md-8 offset-md-2\",\n    children: [showSuccess(), showError(), registerForm()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Register, \"5Mz6XtH/7fMgLckde5ofQXA+OP8=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/kate/Documents/Comp4050-S2-20221/skel2/swapstreet/src/user/Register.js"],"names":["React","useState","Layout","register","Register","values","setValues","name","email","address","about","password","error","success","handleChange","event","target","value","clickSubmit","preventDefault","then","data","registerForm","showError","display","showSuccess"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport Layout from '../components/Layout'\n//import {Link} from 'react-router-dom'\nimport { register } from '../auth/index'\n\nconst Register = () => {\n\n    const [values, setValues] = useState({\n        name:'User',\n        email: 'user@email.com',\n        address: '14 Sample Street, Suburb NSW',\n        about: '',\n        password: '123456',\n        error: '',\n        success: false\n    })\n\n    const { name, email, address, about, password, success, error } = values;\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    }\n\n    const clickSubmit = event => {\n        // prevent browser from reloading\n        event.preventDefault();\n        setValues({ ...values, error: false });\n        register({name, email, address, about, password})\n        .then(data => {\n            if(data.error) {\n                setValues({...values, error: data.error, success: false})\n            } else {\n                setValues({\n                    ...values,\n                    name: '',\n                    email: '',\n                    address:'',\n                    about: '',\n                    password: '',\n                    error: '',\n                    success: true\n                })\n            }\n        })\n    };\n\n\n    const registerForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email} />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Address</label>\n                <input onChange={handleChange('address')} type=\"text\" className=\"form-control\" value={address} />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">About yourself (Optional)</label>\n                <input onChange={handleChange('about')} type=\"text\" className=\"form-control\" value={about} />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    )\n\n    const showError = () => (\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\n            New account is created. Please <Link to=\"/login\">log in</Link>\n        </div>\n    );\n\n\n    return (\n        <Layout title=\"Register \" description='Register for a new account' className='container col-md-8 offset-md-2'>\n            {showSuccess()}\n            {showError()}\n            {registerForm()}\n        </Layout>\n    )\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}