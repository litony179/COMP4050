{"ast":null,"code":"var _jsxFileName = \"/Users/kate/Documents/Comp4050-S2-20221/skel2/swapstreet/src/components/dataRouter.js\";\nimport React, { Component } from 'react';\n/*import {\n    BrowserRouter,\n    Switch,\n    Route,\n    Redirect,\n    Link\n  } from \"react-router-dom\"; */\n\nimport UserProfile from \"./userProfile/userProfile\";\nimport Header from \"./HeadingBar\";\nimport ChangeInfo from \"./userProfile/changeInfo\";\nimport HomePage from \"./homePage/homePage\";\nimport Dashboard from \"./dashboard/dashboard\";\nimport JobPage from \"./jobPage/jobPage\";\nimport JobDataFill from \"./dataFill/dataFillPage\";\nimport Register from '../user/Register';\nimport Login from '../user/Login';\nimport PrivateRoute from '../auth/PrivateRoute';\nimport { isAuthenticated } from \"../auth/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass dataRouter extends Component {\n  constructor(props) {\n    super(props);\n\n    if (isAuthenticated()) {\n      const {\n        user: {\n          _id,\n          name,\n          email,\n          address,\n          balance,\n          about,\n          role\n        }\n      } = isAuthenticated();\n      this.state = {\n        location: null,\n        userID: _id,\n        name: name,\n        balance: balance,\n        jobs: []\n      };\n    } else {\n      this.state = {\n        location: null,\n        userID: null,\n        name: null,\n        balance: null,\n        jobs: []\n      };\n    }\n  }\n\n  componentDidMount() {\n    this.updateJobs();\n  }\n\n  updateJobs() {\n    fetch('http://localhost:3200/jobs?fetch=true').then(resp => resp.json()).then(data => {\n      this.setState({\n        jobs: data\n      });\n    });\n  }\n\n  handleSelect(e) {\n    console.log(e);\n    this.setState({\n      location: e\n    });\n  }\n  /* */\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        userID: this.state.userID,\n        name: this.state.name,\n        balance: this.state.balance\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app\",\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/changeinfo\",\n            children: /*#__PURE__*/_jsxDEV(ChangeInfo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/datafill\",\n            children: /*#__PURE__*/_jsxDEV(JobDataFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            exact: true,\n            component: Login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/register\",\n            exact: true,\n            component: Register\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            component: UserProfile,\n            path: \"/profile\",\n            exact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/add\",\n            render: props => /*#__PURE__*/_jsxDEV(JobDataFill, { ...props,\n              userID: this.state.userID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 71\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/edit\",\n            render: props => /*#__PURE__*/_jsxDEV(JobDataFill, { ...props,\n              userID: this.state.userID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 72\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            component: Dashboard,\n            path: \"/dashboard\",\n            jobs: this.state.jobs,\n            userID: this.state.userID,\n            exact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/job\",\n            render: props => /*#__PURE__*/_jsxDEV(JobPage, { ...props,\n              userID: this.state.userID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 71\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            children: /*#__PURE__*/_jsxDEV(HomePage, {\n              jobs: this.state.jobs,\n              userID: this.state.userID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default dataRouter;","map":{"version":3,"sources":["/Users/kate/Documents/Comp4050-S2-20221/skel2/swapstreet/src/components/dataRouter.js"],"names":["React","Component","UserProfile","Header","ChangeInfo","HomePage","Dashboard","JobPage","JobDataFill","Register","Login","PrivateRoute","isAuthenticated","dataRouter","constructor","props","user","_id","name","email","address","balance","about","role","state","location","userID","jobs","componentDidMount","updateJobs","fetch","then","resp","json","data","setState","handleSelect","e","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n/*import {\n    BrowserRouter,\n    Switch,\n    Route,\n    Redirect,\n    Link\n  } from \"react-router-dom\"; */\n  \nimport UserProfile from \"./userProfile/userProfile\";\nimport Header from \"./HeadingBar\";\nimport ChangeInfo from \"./userProfile/changeInfo\";\nimport HomePage from \"./homePage/homePage\"\nimport Dashboard from \"./dashboard/dashboard\"\nimport JobPage from \"./jobPage/jobPage\"\nimport JobDataFill from \"./dataFill/dataFillPage\"\nimport Register from '../user/Register';\nimport Login from '../user/Login';\nimport PrivateRoute from '../auth/PrivateRoute'\nimport { isAuthenticated } from \"../auth/index\";\n\n\nclass dataRouter extends Component {\n\n    constructor(props) {\n        super(props);\n        if(isAuthenticated()){\n            const {\n                user: { _id, name, email, address, balance, about, role }\n              } = isAuthenticated();\n            this.state = {\n              location: null,\n              userID: _id,\n              name: name,\n              balance: balance,\n              jobs: []\n            };\n        } else {\n            this.state = {\n                location: null,\n                userID: null,\n                name: null,\n                balance: null,\n                jobs: []\n              };\n        }\n        \n\n    \n    }\n\n    componentDidMount(){\n        this.updateJobs()\n    }\n\n    updateJobs(){\n        fetch('http://localhost:3200/jobs?fetch=true')\n            .then( resp => resp.json())\n            .then((data)=> {\n                this.setState({\n                    jobs: data\n                })\n        })\n    }\n\n\n    handleSelect(e) {\n        console.log(e);\n        this.setState({location : e})\n    }\n\n    /* */\n\n    render() {\n        return (\n            <BrowserRouter>\n                <Header userID={this.state.userID} name={this.state.name} balance={this.state.balance}/>\n                <div className=\"app\"> \n                    <Switch>\n                        <Route path=\"/changeinfo\">\n                            <ChangeInfo/>\n                        </Route>\n\n                        <Route path=\"/datafill\">\n                            <JobDataFill/>\n                        </Route>\n\n                        <Route path='/login' exact component={Login}/>\n                        <Route path='/register' exact component={Register}/>\n                        <PrivateRoute component={UserProfile} path=\"/profile\" exact />\n\n\n                        <Route exact path = \"/add\" render={(props) => <JobDataFill {...props} userID={this.state.userID}/> }/>\n\n                        <Route exact path = \"/edit\" render={(props) => <JobDataFill {...props} userID={this.state.userID}/> }/>\n\n                        <PrivateRoute component={Dashboard} path=\"/dashboard\" jobs={this.state.jobs} userID={this.state.userID} exact />\n                    \n\n                        <Route exact path = \"/job\" render={(props) => <JobPage {...props} userID={this.state.userID}/> }/>\n\n                        <Route path=\"/\">\n                            <HomePage jobs={this.state.jobs} userID={this.state.userID}/>\n                        </Route>\n                    </Switch>\n                </div>\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default dataRouter;"]},"metadata":{},"sourceType":"module"}